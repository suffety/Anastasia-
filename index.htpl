<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ê–ª—å—Ñ–∞‚Äì–ê—Ñ–∏—à–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,
        sans-serif;
      background: #101321;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .phone {
      width: 390px;
      height: 844px;
      background: #f5f5f7;
      border-radius: 32px;
      overflow: hidden;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.4);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .status-bar {
      height: 20px;
      padding: 8px 16px 0;
      font-size: 11px;
      color: #555;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .app-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 20px 8px;
      background: #f5f5f7;
    }

    .app-bar-left,
    .app-bar-right {
      width: 40px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      font-size: 18px;
      color: #111;
    }

    .app-bar-right {
      justify-content: flex-end;
    }

    .app-bar-title {
      text-align: center;
      flex: 1;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 4px 10px;
      border-radius: 999px;
      background: #ff3b30;
      color: #fff;
      font-size: 10px;
      margin-bottom: 4px;
    }

    .app-bar-title h1 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .app-bar-title span {
      font-size: 11px;
      color: #999;
    }

    .screen {
      flex: 1;
      overflow-y: auto;
      padding: 12px 16px 0;
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ –±–∏–ª–µ—Ç–∞ / –∞—Ñ–∏—à–∏ */

    .ticket-card {
      background: #ffffff;
      border-radius: 24px;
      padding: 16px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      margin-bottom: 16px;
    }

    .ticket-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .ticket-label {
      font-size: 12px;
      font-weight: 500;
      color: #ff2e43;
    }

    .ticket-date {
      font-size: 12px;
      color: #888;
    }

    .poster {
      background: radial-gradient(circle at top left, #ff476c, #3a2cff);
      border-radius: 18px;
      padding: 16px;
      color: #fff;
      margin-bottom: 14px;
      position: relative;
      overflow: hidden;
    }

    .poster::before {
      content: "";
      position: absolute;
      width: 140px;
      height: 140px;
      border-radius: 50%;
      border: 22px solid rgba(255, 255, 255, 0.16);
      right: -40px;
      bottom: -40px;
    }

    .poster-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
      max-width: 70%;
    }

    .poster-subtitle {
      font-size: 12px;
      opacity: 0.9;
      margin-bottom: 16px;
    }

    .poster-meta {
      font-size: 11px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px 12px;
      opacity: 0.9;
    }

    .poster-meta span {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .poster-meta-dot {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #fff;
    }

    .ticket-info {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 12px;
      font-size: 11px;
    }

    .info-label {
      color: #a0a3aa;
      margin-bottom: 2px;
    }

    .info-value {
      color: #111;
      font-weight: 500;
    }

    .ticket-qr-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 10px;
      border-top: 1px dashed #e1e2e6;
      margin-top: 4px;
    }

    .qr-box {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      border: 1px solid #e1e2e6;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      color: #999;
    }

    .ticket-code {
      font-size: 12px;
      color: #555;
    }

    .ticket-code span {
      display: block;
      font-size: 10px;
      color: #a0a3aa;
      margin-bottom: 2px;
    }

    .primary-btn {
      width: 100%;
      border: none;
      border-radius: 20px;
      padding: 14px 16px;
      background: #ff2e43;
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .primary-btn:active {
      transform: translateY(1px);
      filter: brightness(0.95);
    }

    .secondary-text {
      font-size: 11px;
      color: #9a9ea8;
      text-align: center;
      margin-bottom: 12px;
    }

    /* –≠–∫—Ä–∞–Ω –≤–æ–∑–≤—Ä–∞—Ç–∞ */

    .hidden {
      display: none;
    }

    #refund-screen {
      padding: 32px 24px 0;
      text-align: center;
    }

    .refund-icon {
      width: 72px;
      height: 72px;
      border-radius: 999px;
      background: #e6f8ed;
      margin: 0 auto 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 34px;
      color: #1f9b4c;
    }

    .refund-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .refund-amount {
      font-size: 24px;
      font-weight: 700;
      color: #111;
      margin-bottom: 10px;
    }

    .refund-desc {
      font-size: 13px;
      color: #6a6e77;
      margin-bottom: 24px;
    }

    .refund-note {
      font-size: 11px;
      color: #9a9ea8;
    }

    /* –¢–∞–±—ã —Å–Ω–∏–∑—É */

    .tabbar {
      height: 70px;
      border-top: 1px solid #dedfe3;
      background: #ffffff;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding-bottom: 10px;
    }

    .tab-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      font-size: 10px;
      color: #a1a4ad;
    }

    .tab-item span {
      font-size: 18px;
    }

    .tab-item.active {
      color: #111;
      font-weight: 500;
    }

    /* –ú–æ–¥–∞–ª–∫–∞ */

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      z-index: 10;
    }

    .modal {
      width: 100%;
      max-width: 320px;
      background: #ffffff;
      border-radius: 24px;
      padding: 20px 18px 16px;
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
    }

    .modal-title {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .modal-subtitle {
      font-size: 12px;
      color: #7a7e89;
      margin-bottom: 16px;
    }

    .field-label {
      font-size: 11px;
      color: #7a7e89;
      margin-bottom: 4px;
    }

    .modal-input-wrap {
      position: relative;
      margin-bottom: 12px;
    }

    .modal-input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid #d3d4da;
      font-size: 15px;
      outline: none;
    }

    .modal-input:focus {
      border-color: #ff2e43;
      box-shadow: 0 0 0 1px rgba(255, 46, 67, 0.2);
    }

    .modal-input-suffix {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      font-size: 12px;
      color: #a0a3aa;
    }

    .modal-error {
      font-size: 11px;
      color: #ff2e43;
      min-height: 14px;
      margin-bottom: 6px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 6px;
    }

    .btn-text {
      border: none;
      background: transparent;
      font-size: 14px;
      color: #7a7e89;
      padding: 6px 8px;
      cursor: pointer;
    }

    .btn-primary-small {
      border: none;
      background: #ff2e43;
      color: #fff;
      border-radius: 14px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    .btn-primary-small:active {
      filter: brightness(0.95);
      transform: translateY(1px);
    }
  </style>
</head>
<body>
  <div class="phone">
    <div class="status-bar">
      <div>09:41</div>
      <div>LTE ‚óâ 76%</div>
    </div>

    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <header class="app-bar">
      <div class="app-bar-left">‚Äπ</div>
      <div class="app-bar-title">
        <div class="tag">–ú–ì–£ ¬∑ –ê–ª—å—Ñ–∞</div>
        <h1>–ê–ª—å—Ñ–∞‚Äì–ê—Ñ–∏—à–∞</h1>
        <span>–ë–∏–ª–µ—Ç –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</span>
      </div>
      <div class="app-bar-right">‚ìò</div>
    </header>

    <!-- –≠–∫—Ä–∞–Ω —Å –±–∏–ª–µ—Ç–æ–º -->
    <main class="screen" id="ticket-screen">
      <section class="ticket-card">
        <div class="ticket-header">
          <div class="ticket-label">–ö–∏–Ω–æ–∫–æ–Ω—Ü–µ—Ä—Ç</div>
          <div class="ticket-date">30 –¥–µ–∫–∞–±—Ä—è ¬∑ 20:00</div>
        </div>

        <div class="poster">
          <div class="poster-title">–ê–ª—å—Ñ–∞ Night –≤ ¬´–ö–∞—Ä–æ 11 –û–∫—Ç—è–±—Ä—å¬ª</div>
          <div class="poster-subtitle">
            –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–∫–∞–∑ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ú–ì–£ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞
          </div>
          <div class="poster-meta">
            <span><span class="poster-meta-dot"></span>–ú–æ—Å–∫–≤–∞, —É–ª. –ù–æ–≤—ã–π –ê—Ä–±–∞—Ç, 24</span>
            <span><span class="poster-meta-dot"></span>–ó–∞–ª 7 ¬∑ –†—è–¥ 8 ¬∑ –ú–µ—Å—Ç–∞ 9‚Äì10</span>
          </div>
        </div>

        <div class="ticket-info">
          <div>
            <div class="info-label">–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</div>
            <div class="info-value">–ó–∞–ø—Ä—É–¥–Ω–∞—è –ê–Ω–∞—Å—Ç–∞—Å–∏—è</div>
          </div>
          <div>
            <div class="info-label">–°—É–º–º–∞</div>
            <div class="info-value">1 390 ‚ÇΩ</div>
          </div>
          <div>
            <div class="info-label">–û–ø–ª–∞—Ç–∞</div>
            <div class="info-value">‚Ä¢‚Ä¢ 1234</div>
          </div>
        </div>

        <div class="ticket-qr-row">
          <div class="qr-box">
            QR<br />–∫–æ–¥
          </div>
          <div class="ticket-code">
            <span>–ù–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞</span>
            AF-2025-12-30-0019
          </div>
        </div>
      </section>

      <button class="primary-btn" id="saveTicketBtn">
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∏–ª–µ—Ç
      </button>

      <p class="secondary-text">
        –ë–∏–ª–µ—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª –∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ —Ä–∞—Å—Ö–æ–¥–æ–≤.
      </p>
    </main>

    <!-- –≠–∫—Ä–∞–Ω –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–µ–Ω–µ–≥ -->
    <main id="refund-screen" class="hidden">
      <div class="refund-icon">‚Ü∫</div>
      <div class="refund-title">–ó–∞—è–≤–∫–∞ –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–∞</div>
      <div class="refund-amount" id="refund-amount">0 ‚ÇΩ</div>
      <div class="refund-desc">
        –ú—ã –≤–µ—Ä–Ω—ë–º –¥–µ–Ω—å–≥–∏ –Ω–∞ –∫–∞—Ä—Ç—É, —Å –∫–æ—Ç–æ—Ä–æ–π –≤—ã –æ–ø–ª–∞—Ç–∏–ª–∏ –±–∏–ª–µ—Ç.<br />
        –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ –±–æ–ª–µ–µ 5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π.
      </div>
      <div class="refund-note">
        –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ —Å—á—ë—Ç—É.
      </div>
    </main>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="tabbar">
      <div class="tab-item">
        <span>‚åÇ</span>
        –ì–ª–∞–≤–Ω—ã–π
      </div>
      <div class="tab-item">
        <span>‚ÇΩ</span>
        –ü–ª–∞—Ç–µ–∂–∏
      </div>
      <div class="tab-item">
        <span>‚òÖ</span>
        –í—ã–≥–æ–¥–∞
      </div>
      <div class="tab-item active">
        <span>üéüÔ∏è</span>
        –ò—Å—Ç–æ—Ä–∏—è
      </div>
      <div class="tab-item">
        <span>‚ãØ</span>
        –ß–∞—Ç—ã
      </div>
    </nav>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–≤–æ–¥–∞ —Ü–∏—Ñ—Ä -->
    <div class="modal-backdrop hidden" id="codeModal">
      <div class="modal">
        <div class="modal-title">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∏–ª–µ—Ç</div>
        <div class="modal-subtitle">
          –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ü–∏—Ñ—Ä—ã –∫–∞—Ä—Ç—ã ‚Äî –º—ã –ø–æ–∫–∞–∂–µ–º —ç–∫—Ä–∞–Ω
          –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–µ–Ω–µ–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –≤–≤–æ–¥–∞.
        </div>

        <label class="field-label" for="digitsInput">–°–∫–æ–ª—å–∫–æ –≤–µ—Ä–Ω—É—Ç—å</label>
        <div class="modal-input-wrap">
          <input
            id="digitsInput"
            class="modal-input"
            type="tel"
            inputmode="numeric"
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 1390"
          />
          <span class="modal-input-suffix">‚ÇΩ</span>
        </div>

        <div class="modal-error" id="modalError"></div>

        <div class="modal-actions">
          <button class="btn-text" id="cancelModal">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn-primary-small" id="confirmCode">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const saveTicketBtn = document.getElementById("saveTicketBtn");
    const codeModal = document.getElementById("codeModal");
    const cancelModalBtn = document.getElementById("cancelModal");
    const confirmCodeBtn = document.getElementById("confirmCode");
    const digitsInput = document.getElementById("digitsInput");
    const modalError = document.getElementById("modalError");

    const ticketScreen = document.getElementById("ticket-screen");
    const refundScreen = document.getElementById("refund-screen");
    const refundAmountEl = document.getElementById("refund-amount");

    // –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É
    saveTicketBtn.addEventListener("click", () => {
      modalError.textContent = "";
      digitsInput.value = "";
      codeModal.classList.remove("hidden");
      digitsInput.focus();
    });

    // –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É
    cancelModalBtn.addEventListener("click", () => {
      codeModal.classList.add("hidden");
    });

    // –∫–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É ‚Äî —Ç–æ–∂–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º
    codeModal.addEventListener("click", (e) => {
      if (e.target === codeModal) {
        codeModal.classList.add("hidden");
      }
    });

    // –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–≤–æ–¥–∞
    confirmCodeBtn.addEventListener("click", () => {
      const raw = digitsInput.value.replace(/\s+/g, "");
      const value = Number(raw);

      if (!raw || Number.isNaN(value) || value <= 0) {
        modalError.textContent = "–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —Ü–∏—Ñ—Ä–∞–º–∏.";
        return;
      }

      // —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å—É–º–º—É –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
      const formatted = value
        .toString()
        .replace(/\B(?=(\d{3})+(?!\d))/g, " ");

      refundAmountEl.textContent = formatted + " ‚ÇΩ";

      // –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω –≤–æ–∑–≤—Ä–∞—Ç–∞
      codeModal.classList.add("hidden");
      ticketScreen.classList.add("hidden");
      refundScreen.classList.remove("hidden");
    });
  </script>
</body>
</html>
